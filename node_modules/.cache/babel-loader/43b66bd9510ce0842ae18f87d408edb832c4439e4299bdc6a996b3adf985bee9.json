{"ast":null,"code":"var _jsxFileName = \"/Users/makbuk/Desktop/ kata/Todo-List/src/components/App/App.jsx\";\nimport React, { Component } from 'react';\nimport Header from '../Header';\nimport TodoList from '../TaskList';\nimport Footer from '../Footer';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class App extends Component {\n  constructor() {\n    super(...arguments);\n    this.maxId = 1;\n    this.state = {\n      todoData: [this.createTaskObject('fw'), this.createTaskObject('fw')],\n      renderData: () => this.state.todoData.filter(el => this.filterTask(this.state.filter, el)),\n      filter: 'all'\n    };\n    this.onDeleted = id => {\n      this.setState(_ref => {\n        let {\n          todoData\n        } = _ref;\n        const newTodoData = JSON.parse(JSON.stringify(todoData));\n        const idx = newTodoData.findIndex(el => el.id === id);\n        newTodoData.splice(idx, 1);\n        return {\n          todoData: newTodoData\n        };\n      });\n    };\n    this.editTask = (taskId, value) => {\n      this.setState(_ref2 => {\n        let {\n          todoData\n        } = _ref2;\n        let newData = JSON.parse(JSON.stringify(todoData));\n        let task = newData.find(el => el.id == taskId);\n        task.task = value;\n        return {\n          todoData: newData\n        };\n      });\n    };\n    this.createTask = e => {\n      e.preventDefault();\n      if (e.target[0].value.length > 0) {\n        let mins = +e.target[1].value || 0;\n        let secs = +e.target[2].value || 0;\n        let timer = (mins * 60 + secs) * 1000;\n        console.log(timer);\n        this.setState(_ref3 => {\n          let {\n            todoData\n          } = _ref3;\n          const newTodoData = JSON.parse(JSON.stringify(todoData));\n          newTodoData.push(this.createTaskObject(e.target[0].value, timer));\n          for (let target of e.target) target.value = '';\n          return {\n            todoData: newTodoData\n          };\n        });\n      }\n    };\n    this.setCompleted = (id, value) => {\n      const completed = value.target.checked;\n      this.setState(_ref4 => {\n        let {\n          todoData\n        } = _ref4;\n        const newTodoData = JSON.parse(JSON.stringify(todoData));\n        const idx = newTodoData.findIndex(el => el.id === id);\n        newTodoData[idx].completed = completed;\n        return {\n          todoData: newTodoData\n        };\n      });\n    };\n    this.clearCompleted = () => {\n      this.setState(_ref5 => {\n        let {\n          todoData\n        } = _ref5;\n        return {\n          todoData: todoData.filter(el => !el.completed)\n        };\n      });\n    };\n    this.showFilter = el => {\n      this.setState(() => ({\n        filter: el.toLowerCase()\n      }));\n    };\n  }\n  createTaskObject(task) {\n    let timer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000 * 60 * 15;\n    return {\n      id: this.maxId++,\n      task,\n      date: Date.now(),\n      timer,\n      edit: false,\n      paused: true,\n      completed: false\n    };\n  }\n  filterTask(filter, element) {\n    switch (filter) {\n      case 'all':\n        return true;\n      case 'active':\n        return !element.completed;\n      case 'completed':\n        return element.completed;\n      default:\n        throw new Error('Wrong Filter');\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"todoapp\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        createTask: this.createTask\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"main\",\n        children: [/*#__PURE__*/_jsxDEV(TodoList, {\n          tasks: this.state.renderData(),\n          onDeleted: this.onDeleted,\n          setCompleted: this.setCompleted,\n          editTask: this.editTask\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {\n          showFilter: this.showFilter,\n          clearCompleted: this.clearCompleted,\n          count: this.state.todoData.filter(el => !el.completed).length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Component","Header","TodoList","Footer","App","maxId","state","todoData","createTaskObject","renderData","filter","el","filterTask","onDeleted","id","setState","newTodoData","JSON","parse","stringify","idx","findIndex","splice","editTask","taskId","value","newData","task","find","createTask","e","preventDefault","target","length","mins","secs","timer","console","log","push","setCompleted","completed","checked","clearCompleted","showFilter","toLowerCase","date","Date","now","edit","paused","element","Error","render"],"sources":["/Users/makbuk/Desktop/ kata/Todo-List/src/components/App/App.jsx"],"sourcesContent":["import React, { Component } from 'react';\n\nimport Header from '../Header';\nimport TodoList from '../TaskList';\nimport Footer from '../Footer';\nimport './App.css';\n\nexport default class App extends Component {\n  maxId = 1;\n\n  state = {\n    todoData: [this.createTaskObject('fw'), this.createTaskObject('fw')],\n    renderData: () => this.state.todoData.filter((el) => this.filterTask(this.state.filter, el)),\n    filter: 'all',\n  };\n\n  onDeleted = (id) => {\n    this.setState(({ todoData }) => {\n      const newTodoData = JSON.parse(JSON.stringify(todoData));\n      const idx = newTodoData.findIndex((el) => el.id === id);\n      newTodoData.splice(idx, 1);\n      return {\n        todoData: newTodoData,\n      };\n    });\n  };\n\n  createTaskObject(task, timer = 1000 * 60 * 15) {\n    return {\n      id: this.maxId++,\n      task,\n      date: Date.now(),\n      timer,\n      edit: false,\n      paused: true,\n      completed: false,\n    };\n  }\n\n  editTask = (taskId, value) => {\n    this.setState(({ todoData }) => {\n      let newData = JSON.parse(JSON.stringify(todoData));\n      let task = newData.find((el) => el.id == taskId);\n      task.task = value;\n      return {\n        todoData: newData,\n      };\n    });\n  };\n  \n  createTask = (e) => {\n    e.preventDefault();\n    if (e.target[0].value.length > 0) {\n      let mins = +e.target[1].value || 0;\n      let secs = +e.target[2].value || 0;\n\n      let timer = (mins * 60 + secs) * 1000;\n      console.log(timer);\n      this.setState(({ todoData }) => {\n        const newTodoData = JSON.parse(JSON.stringify(todoData));\n        newTodoData.push(this.createTaskObject(e.target[0].value, timer));\n        for (let target of e.target) target.value = '';\n        return {\n          todoData: newTodoData,\n        };\n      });\n    }\n  };\n\n  setCompleted = (id, value) => {\n    const completed = value.target.checked;\n    this.setState(({ todoData }) => {\n      const newTodoData = JSON.parse(JSON.stringify(todoData));\n      const idx = newTodoData.findIndex((el) => el.id === id);\n      newTodoData[idx].completed = completed;\n      return {\n        todoData: newTodoData,\n      };\n    });\n  };\n\n  clearCompleted = () => {\n    this.setState(({ todoData }) => ({\n      todoData: todoData.filter((el) => !el.completed),\n    }));\n  };\n\n  filterTask(filter, element) {\n    switch (filter) {\n      case 'all':\n        return true;\n      case 'active':\n        return !element.completed;\n      case 'completed':\n        return element.completed;\n      default:\n        throw new Error('Wrong Filter');\n    }\n  }\n\n  showFilter = (el) => {\n    this.setState(() => ({ filter: el.toLowerCase() }));\n  };\n\n  render() {\n    return (\n      <section className=\"todoapp\">\n        <Header createTask={this.createTask} />\n        <section className=\"main\">\n          <TodoList\n            tasks={this.state.renderData()}\n            onDeleted={this.onDeleted}\n            setCompleted={this.setCompleted}\n            editTask={this.editTask}\n          />\n          <Footer\n            showFilter={this.showFilter}\n            clearCompleted={this.clearCompleted}\n            count={this.state.todoData.filter((el) => !el.completed).length}\n          />\n        </section>\n      </section>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}